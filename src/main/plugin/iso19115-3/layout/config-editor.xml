<?xml version="1.0" encoding="UTF-8"?>
<editor xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xsi:noNamespaceSchemaLocation="../../config-editor.xsd"
  xmlns:gn="http://www.fao.org/geonetwork"
  xmlns:gml="http://www.opengis.net/gml/3.2"
  xmlns:xlink="http://www.w3.org/1999/xlink"
  xmlns:gcx="http://standards.iso.org/iso/19115/-3/gcx/1.0"
  xmlns:srv="http://standards.iso.org/iso/19115/-3/srv/2.0"
  xmlns:mdb="http://standards.iso.org/iso/19115/-3/mdb/1.0"
  xmlns:mcc="http://standards.iso.org/iso/19115/-3/mcc/1.0"
  xmlns:mri="http://standards.iso.org/iso/19115/-3/mri/1.0"
  xmlns:mmi="http://standards.iso.org/iso/19115/-3/mmi/1.0"
  xmlns:mrs="http://standards.iso.org/iso/19115/-3/mrs/1.0"
  xmlns:mrd="http://standards.iso.org/iso/19115/-3/mrd/1.0"
  xmlns:mco="http://standards.iso.org/iso/19115/-3/mco/1.0"
  xmlns:msr="http://standards.iso.org/iso/19115/-3/msr/1.0"
  xmlns:lan="http://standards.iso.org/iso/19115/-3/lan/1.0"
  xmlns:mrl="http://standards.iso.org/iso/19115/-3/mrl/1.0"
  xmlns:gex="http://standards.iso.org/iso/19115/-3/gex/1.0"
  xmlns:mdq="http://standards.iso.org/iso/19157/-2/mdq/1.0"
  xmlns:cit="http://standards.iso.org/iso/19115/-3/cit/1.0"
  xmlns:gco="http://standards.iso.org/iso/19115/-3/gco/1.0">

  <!-- Form field type configuration. Default is text. -->
  <fields>
    <for name="cit:issueIdentification" use="textarea"/>
    <for name="cit:description" use="textarea"/>
    <for name="mcc:fileDescription" use="textarea"/>
    <for name="gex:description" use="textarea"/>
    <for name="mrc:description" use="textarea"/>
    <for name="mrd:mediumNote" use="textarea"/>
    <for name="lan:description" use="textarea"/>
    <for name="mcc:description" use="textarea"/>
    <for name="msr:transformationDimensionMapping" use="textarea"/>
    <for name="msr:dimensionDescription" use="textarea"/>
    <for name="msr:orientationParameterDescription" use="textarea"/>
    <for name="cit:contactInstructions" use="textarea"/>
    <for name="mco:userNote" use="textarea"/>
    <for name="mco:handlingDescription" use="textarea"/>
    <for name="mrl:description" use="textarea"/>
    <for name="mri:abstract" use="textarea"/>
    <for name="gmd:checkPointDescription" use="textarea"/>
    <for name="mri:credit" use="textarea"/>
    <for name="mrd:description" use="textarea"/>
    <for name="gmd:evaluationMethodDescription" use="textarea"/>
    <for name="gmd:explanation" use="textarea"/>
    <for name="gmd:handlingDescription" use="textarea"/>
    <for name="mdq:measureDescription" use="textarea"/>
    <for name="gmd:purpose" use="textarea"/>
    <for name="gmd:orderingInstructions" use="textarea"/>
    <for name="mco:otherConstraints" use="textarea"/>
    <for name="mri:statement" use="textarea"/>
    <for name="mri:supplementalInformation" use="textarea"/>
    <for name="gmd:specificUsage" use="textarea"/>
    <for name="gmd:userNote" use="textarea"/>
    <for name="mco:useLimitation" use="textarea"/>
    <for name="cit:otherCitationDetails" use="textarea"/>
    <for name="mmi:maintenanceNote" use="textarea"/>
    <for name="mco:statement" use="textarea"/>
    <for name="gfc:definition" use="textarea"/>
    <for name="mri:environmentDescription" use="textarea"/>
    <for name="mdq:standaloneQualityReportDetails" use="textarea"/>
    <for name="mdq:abstract" use="textarea"/>
    <for name="mdq:statement" use="textarea"/>
    <for name="mdq:evaluationMethodDescription" use="textarea"/>
    <for name="mrl:statement" use="textarea"/>
    <for name="mri:response" use="textarea"/>
    <for name="mri:specificUsage" use="textarea"/>
    <for name="mrd:orderOptions" use="textarea"/>


    <for name="gco:Distance" use="number"/>
    <for name="gco:Decimal" use="number"/>
    <for name="gco:Integer" use="number"/>
    <for name="gco:Angle" use="number"/>
    <for name="gco:Boolean" use="checkbox"/>


    <for name="gco:Date" use="data-gn-date-picker"/>
    <for name="gco:DateTime" use="data-gn-date-picker"/>


    <for name="role" use="data-gn-role"/>
    <!-- gmx:FileName/@src attribute -->
    <for name="src" use="data-gn-logo-selector"/>

    <for name="cit:electronicMailAddress" use="email"/>

    <for name="lan:language" use="data-gn-language-picker"/>
    <for name="lan:languageCode" use="data-gn-language-picker"/>

    <for name="lan:country" use="data-gn-country-picker"/>
    <for name="cit:country" use="data-gn-country-picker"/>

    <for name="mrs:referenceSystemIdentifier" addDirective="data-gn-crs-selector"/>

    <for name="mdb:contact" addDirective="data-gn-directory-entry-selector">
      <directiveAttributes
              data-template-add-action="true"
              data-template-type="contact"
              data-filter='{"_root": "cit:CI_Responsibility"}'
              data-variables="cit:role/cit:CI_RoleCode/@codeListValue~{role}"/>
              <!--data-transformation="contact-from-iso19139-to-iso19115-3"/ ADDED IN MEDSEA-->
    </for>
    <for name="mri:pointOfContact" addDirective="data-gn-directory-entry-selector">
      <!--<directiveAttributes
              data-template-add-action="true"
              data-template-type="contact"
              data-filter='{"_root": "cit:CI_Responsibility"}'
              data-variables="cit:role/cit:CI_RoleCode/@codeListValue~{role}"/>-->
      <!-- To use an ISO19139 contact directory in an ISO19115-3 record
      use the following configuration: -->
      <directiveAttributes
              data-template-add-action="true"
              data-template-type="contact"
              data-filter='{"_root": "gmd:CI_ResponsibleParty"}'
              data-variables="gmd:role/gmd:CI_RoleCode/@codeListValue~{role}"
              data-transformation="contact-from-iso19139-to-iso19115-3"/>
    </for>
    <for name="mrd:distributor" addDirective="data-gn-directory-entry-selector">
      <directiveAttributes
              data-template-add-action="true"
              data-template-type="contact"
              data-filter='{"_root": "cit:CI_Responsibility"}'
              data-variables="cit:role/cit:CI_RoleCode/@codeListValue~{role}"/>
              <!--data-transformation="contact-from-iso19139-to-iso19115-3"/ ADDED IN MEDSEA-->
    </for>
    <for name="mrl:processor" addDirective="data-gn-directory-entry-selector">
      <directiveAttributes
              data-template-add-action="true"
              data-template-type="contact"
              data-filter='{"_root": "cit:CI_Responsibility"}'
              data-variables="cit:role/cit:CI_RoleCode/@codeListValue~{role}"/>
              <!--data-transformation="contact-from-iso19139-to-iso19115-3"/ ADDED IN MEDSEA-->
    </for>
    <for name="cit:citedResponsibleParty" addDirective="data-gn-directory-entry-selector">
      <directiveAttributes
              data-template-add-action="true"
              data-template-type="contact"
              data-filter='{"_root": "cit:CI_Responsibility"}'
              data-variables="cit:role/cit:CI_RoleCode/@codeListValue~{role}"/>
              <!--data-transformation="contact-from-iso19139-to-iso19115-3"/ ADDED IN MEDSEA-->
    </for>


    <for name="cit:logo" addDirective="data-gn-directory-entry-selector">
      <directiveAttributes
              data-template-add-action="true"
              data-template-type="logo"
              data-filter='{"_root": "mcc:MD_BrowseGraphic"}'/>
    </for>

    <for name="mdq:report" addDirective="data-gn-directory-entry-selector">
      <directiveAttributes
              data-template-add-action="true"
              data-template-type="report"
              data-filter='{"_root": "mdq:DQ_*"}'/>
    </for>

    <for name="mri:resourceConstraints" addDirective="data-gn-directory-entry-selector">
      <directiveAttributes
              data-template-add-action="true"
              data-template-type="resourceConstraints"
              data-filter='{"_root": "mco:MD_*"}'/>
    </for>

    <for name="mri:descriptiveKeywords" addDirective="data-gn-thesaurus-selector">
      <directiveAttributes
              data-transformation="to-iso19115-3-keyword"/>
    </for>
  </fields>


  <fieldsWithFieldset>
    <name>mcc:MD_Identifier</name>
    <name>mdb:metadataStandard</name>
    <name>mdb:metadataScope</name>
    <name>mdb:dateInfo</name>
    <name>mdb:contentInfo</name>
    <name>gfc:featureType</name>
    <name>gfc:carrierOfCharacteristics</name>
    <name>gfc:listedValue</name>
    <name>mdb:alternativeMetadataReference</name>
    <name>mdb:metadataLinkage</name>
    <name>mdb:identificationInfo</name>
    <name>mdb:distributionInfo</name>
    <name>mri:descriptiveKeywords</name>
    <name>mri:thesaurusName</name>
    <name>mri:resourceConstraints</name>
    <name>mdb:spatialRepresentationInfo</name>
    <name>mri:pointOfContact</name>
    <name>mdb:dataQualityInfo</name>
    <!--name>mdq:result</name ADDED IN MEDSEA-->
    <!--name>mdq:report</name ADDED IN MEDSEA-->
    <name>mdb:resourceLineage</name>
    <name>cit:citedResponsibleParty</name>
    <name>cit:party</name>
    <name>cit:individual</name>
    <name>cit:logo</name>
    <name>mrd:onLine</name>
    <name>mdb:referenceSystemInfo</name>
    <name>mri:equivalentScale</name>
    <name>mri:graphicOverview</name>
    <name>msr:projection</name>
    <name>mdb:extent</name>
    <name>cit:extent</name>
    <name>gex:geographicBox</name>
    <name>gex:EX_TemporalExtent</name>
    <name>mrd:MD_Distributor</name>
    <name>srv:containsOperations</name>
    <name>srv:SV_CoupledResource</name>
    <name>mdb:metadataConstraints</name>
    <name>mdb:portrayalCatalogueInfo</name>
    <name>mri:associatedResource</name>
  </fieldsWithFieldset>

  <multilingualFields>
    <!-- In multilingual mode, define which mode
    the widget should have. If expanded, then one
    field per language is displayed. -->
    <expanded>
      <name>cit:title</name>
      <name>cit:abstract</name>
    </expanded>
    <!-- All fields in ISO could be multilingual.
    Define element to exlcude. 
    TODO: it may be relevant to have parent defined
    to restrict the list.
    -->
    <exclude>
      <name>cit:protocolRequest</name>
      <name>gex:minimumValue</name>
      <name>gex:maximumValue</name>
      <name>mrc:minValue</name>
      <name>mrc:maxValue</name>
      <name>mrc:scaleFactor</name>
      <name>mrc:offset</name>
      <name>mrc:meanValue</name>
      <name>mrc:standardDeviation</name>
      <name>gco:Real</name>
      <name>mrc:numberOfValues</name>
      <name>mrc:bitsPerValue</name>
      <name>mrc:triangulationIndicator</name>
      <name>mrc:radiometricCalibrationDataAvailability</name>
      <name>mrc:filmDistortionInformationAvailability</name>
      <name>mrc:radiometricCalibrationDataAvailability</name>
      <name>mrc:cameraCalibrationInformationAvailability</name>
      <name>mrc:lensDistortionInformationAvailability</name>
      <name>mrc:complianceCode</name>
      <name>mrc:includedWithDataset</name>
      <name>mrc:featureInstanceCount</name>
      <name>gfc:uniqueInstance</name>
      <name>mrd:density</name>
      <name>mrd:densityUnits</name>
      <name>mrd:volumes</name>
      <name>mrd:unitsOfDistribution</name>
      <name>mrd:transferSize</name>
      <name>cit:linkage</name>
      <name>cit:page</name>
      <name>mco:useLimitation</name>
      <name>mri:levelOfDetail</name>
      <name>mri:distance</name>
      <name>mri:vertical</name>
      <name>mri:angularDistance</name>
      <name>msr:controlPointAvailability</name> 
      <name>msr:orientationParameterAvailability</name>  
      <name>mac:averageAirTemperature</name>
      <name>mac:maxRelativeHumidity</name>
      <name>mac:maxAltitude</name>
      <name>mac:meterologicalConditions</name>
      <name>mas:schemaLanguage</name>
      <name>mas:constraintLanguage</name>
      <name>gex:extentTypeCode</name>
      <name>mdq:pass</name>
      <name>mri:denominator</name>
      <name>mcc:code</name>
      <name>gfc:typeName</name>
      <name>gfc:code</name>
      <name>gfc:valueType</name>
      <name>gco:aName</name>
      <name>gfc:isAbstract</name>
      <name>mrc:illuminationElevationAngle</name>
      <name>mrc:illuminationAzimuthAngle</name>
      <name>mrc:cloudCoverPercentage</name>
      <name>mrc:compressionGenerationQuantity</name>
      <name>cit:electronicMailAddress</name>
      <name>cit:postalCode</name>
      <name>cit:city</name>
      <name>cit:administrativeArea</name>
      <name>cit:number</name>
      <name>cit:hoursOfService</name>
      <name>cit:date</name>
      <name>mac:type</name>
      <name>msr:geometricObjectCount</name>
      <name>msr:numberOfDimensions</name>
      <name>msr:checkPointAvailability</name>
      <name>msr:dimensionSize</name>
      <name>msr:resolution</name>
      <name>msr:transformationParameterAvailability</name>
      <name>mcc:fileName</name>
      <name>mcc:fileType</name>
      <name>mcc:version</name>
      <name>cit:protocol</name>
      <name>mrd:amendmentNumber</name>
      <name>mrd:fileDecompressionTechnique</name>
      <name>mcc:codeSpace</name>
      <name>cit:edition</name>
      <name>cit:ISBN</name>
      <name>cit:ISSN</name>
      <name>mex:condition</name>
      <name>mex:maximumOccurence</name>
      <name>mex:domainValue</name>
      <name>srv:name</name>
      <name>srv:invocationName</name>
      <name>srv:serviceTypeVersion</name>
      <name>srv:operationName</name>
      <name>srv:identifier</name>
    </exclude>
  </multilingualFields>


  <!-- View configuration -->
  <views>
    <view name="default">
      <tab id="default" default="true" mode="flat">
        <section xpath="/mdb:MD_Metadata/mdb:identificationInfo"/>
        <section xpath="/mdb:MD_Metadata/mdb:contentInfo"/>
        <section xpath="/mdb:MD_Metadata/mdb:distributionInfo"/>
        <section xpath="/mdb:MD_Metadata/mdb:dataQualityInfo"/>
        <section xpath="/mdb:MD_Metadata/mdb:portrayalCatalogueInfo"/>
        <section name="mdb:MD_Metadata">
          <field xpath="/mdb:MD_Metadata/mdb:metadataIdentifier"/>
          <field xpath="/mdb:MD_Metadata/mdb:defaultLocale" or="defaultLocale"
                 in="/mdb:MD_Metadata"/>
          <field xpath="/mdb:MD_Metadata/mdb:otherLocale" or="otherLocale"
                 in="/mdb:MD_Metadata"/>
          <field xpath="/mdb:MD_Metadata/mdb:contact" or="contact" in="/mdb:MD_Metadata"/>
          <field xpath="/mdb:MD_Metadata/mdb:parentMetadata" or="parentMetadata"
                 in="/mdb:MD_Metadata"/>
          <field xpath="/mdb:MD_Metadata/mdb:metadataScope" or="metadataScope"
                 in="/mdb:MD_Metadata"/>
          <field xpath="/mdb:MD_Metadata/mdb:alternativeMetadataReference" or="alternativeMetadataReference"
                 in="/mdb:MD_Metadata"/>
          <field xpath="/mdb:MD_Metadata/mdb:metadataLinkage" or="metadataLinkage"
                 in="/mdb:MD_Metadata"/>
          <field xpath="/mdb:MD_Metadata/mdb:dateInfo"/>
          <field xpath="/mdb:MD_Metadata/mdb:metadataStandard"/>
          <field xpath="/mdb:MD_Metadata/mdb:metadataProfile"/>
        </section>
      </tab>

      <!-- Elements that should not use the "flat" mode -->
      <flatModeExceptions>
        <for name="mri:descriptiveKeywords"/>
        <for name="mri:topicCategory"/>
        <for name="mri:pointOfContact"/>
        <for name="mrd:distributor"/>
        <for name="mdb:contact"/>
        <for name="mcc:processor"/>
        <for name="cit:party"/>
        <for name="cit:CI_Individual"/>
        <for name="cit:CI_Organisation"/>
      </flatModeExceptions>
    </view>

    <view name="metawal" default="true">
      <flatModeExceptions>
        <for name="mri:descriptiveKeywords"/>
        <for name="mri:topicCategory"/>
        <for name="mrd:distributor"/>
        <for name="mri:pointOfContact"/>
        <for name="mdb:contact"/>
        <for name="mrd:distributorContact"/>
        <for name="mcc:processor"/>
      </flatModeExceptions>
      <tab id="metadataInformation" default="true" mode="flat">
        <section name="metadatamainsection">
          <section name="metadaDefinition">
            <!-- Metadata language -->
            <field name="metadaLanguage"
                   xpath="/mdb:MD_Metadata/mdb:defaultLocale/lan:PT_Locale/lan:language"/>
            <!-- If not defined, add action will add French -->
            <action type="add"
                    name="metadaLanguage" or="defaultLocale"
                    in="/mdb:MD_Metadata">
              <template>
                <snippet>
                  <mdb:defaultLocale>
                    <lan:PT_Locale>
                      <lan:language>
                        <lan:LanguageCode codeList="codeListLocation#LanguageCode" codeListValue="fre"/>
                      </lan:language>
                      <lan:characterEncoding>
                        <lan:MD_CharacterSetCode codeList="codeListLocation#MD_CharacterSetCode"
                                                 codeListValue="utf8"/>
                      </lan:characterEncoding>
                    </lan:PT_Locale>
                  </mdb:defaultLocale>
                </snippet>
              </template>
            </action>



            <field name="metadaTitle"
                   xpath="/mdb:MD_Metadata/mdb:identificationInfo/mri:MD_DataIdentification/mri:citation/cit:CI_Citation/cit:title"/>
            <field name="metadaAbstract"
                   xpath="/mdb:MD_Metadata/mdb:identificationInfo/mri:MD_DataIdentification/mri:abstract"
                   or="abstract"
                   in="/mdb:MD_Metadata/mdb:identificationInfo/mri:MD_DataIdentification"/>
          </section>
          <section name="metadaOwner">
            <!-- View all type of contacts and
            allows to add one if not present with or and in attribute and
            allows adding more than one by adding flatModeException.
            -->
            <field xpath="/mdb:MD_Metadata/mdb:contact"
                   or="contact"
                   in="/mdb:MD_Metadata"/>
            <field xpath="/mdb:MD_Metadata/mdb:identificationInfo/mri:MD_DataIdentification/mri:pointOfContact"
                   in="pointOfContact"
                   or="/mdb:MD_Metadata/mdb:identificationInfo/mri:MD_DataIdentification"/>
            <field xpath="/mdb:MD_Metadata/mdb:distributionInfo/mrd:MD_Distribution/mrd:distributor"
                   or="distributor"
                   in="/mdb:MD_Metadata/mdb:distributionInfo/mrd:MD_Distribution"/>
            <!-- Maybe other in DQ section ? -->

            <!-- TODO: Display full metadata contact information.
            This section will list all CI_Responsibility from the metadata document
            and will allow to manage their roles (which will be a combination of
            element location (eg. metadata contact, resource contact, resource distributor) +
            codeListValue for role.

            This will probably be displayed in a dedicated tab.
             -->
          </section>
          <section name="resourceDate">
            <field xpath="/mdb:MD_Metadata/mdb:identificationInfo/mri:MD_DataIdentification/mri:citation/cit:CI_Citation/cit:date"/>
          </section>
          <section name="otherKeywords">
            <!-- Wallonia theme selector
            No need for a name, the thesaurus title will be used. -->
            <field xpath="/mdb:MD_Metadata/mdb:identificationInfo/*/mri:descriptiveKeywords[
                            contains(*/mri:thesaurusName/cit:CI_Citation/cit:title/gco:CharacterString,
                                     'Thèmes du géoportail wallon')]"/>
            <!-- Display a add action if no Wallonia theme in the record
            FIXME: walloniaTheme label is not displayed. Probably due to siblings of same type ie. mri:descriptiveKeywords
            -->
            <action type="add"
                    name="walloniaTheme"
                    or="descriptiveKeywords"
                    in="/mdb:MD_Metadata/mdb:identificationInfo/mri:MD_DataIdentification"
                    if="count(mdb:MD_Metadata/mdb:identificationInfo/*/mri:descriptiveKeywords[
                            contains(*/mri:thesaurusName/cit:CI_Citation/cit:title/gco:CharacterString,
                                     'Thèmes du géoportail wallon')]) = 0">
              <template>
                <snippet>
                  <mri:descriptiveKeywords>
                    <mri:MD_Keywords>
                      <mri:type>
                        <mri:MD_KeywordTypeCode codeList="http://standards.iso.org/ittf/PubliclyAvailableStandards/ISO_19139_Schemas/resources/codelist/ML_gmxCodelists.xml#MD_KeywordTypeCode"
                                                codeListValue="theme"/>
                      </mri:type>
                      <mri:thesaurusName>
                        <cit:CI_Citation>
                          <cit:title>
                            <gco:CharacterString>Thèmes du géoportail wallon</gco:CharacterString>
                          </cit:title>
                          <cit:date>
                            <cit:CI_Date>
                              <cit:date>
                                <gco:Date>2012-06-19</gco:Date>
                              </cit:date>
                              <cit:dateType>
                                <cit:CI_DateTypeCode codeList="http://standards.iso.org/ittf/PubliclyAvailableStandards/ISO_19139_Schemas/resources/codelist/ML_gmxCodelists.xml#CI_DateTypeCode"
                                                     codeListValue="publication"/>
                              </cit:dateType>
                            </cit:CI_Date>
                          </cit:date>
                          <cit:identifier>
                            <mcc:MD_Identifier>
                              <mcc:code>
                                <gcx:Anchor xlink:href="http://metawal.wallonie.be/geonetwork/srv/fre/thesaurus.download?ref=external.theme.Themes_geoportail_wallon">geonetwork.thesaurus.external.theme.Themes_geoportail_wallon</gcx:Anchor>
                              </mcc:code>
                            </mcc:MD_Identifier>
                          </cit:identifier>
                        </cit:CI_Citation>
                      </mri:thesaurusName>
                    </mri:MD_Keywords>
                  </mri:descriptiveKeywords>
                </snippet>
              </template>
            </action>

            <!-- All other keywords -->
            <field xpath="/mdb:MD_Metadata/mdb:identificationInfo/*/mri:descriptiveKeywords[
                            not(contains(*/mri:thesaurusName/cit:CI_Citation/cit:title/gco:CharacterString,
                                         'Thèmes du géoportail wallon'))]"/>
          </section>
        </section>
        
      </tab>
      <tab id="dataDescription" mode="flat">
        <section name="datamainsection">
        <section name="datadefinition">
          <field name="metadaTitle" xpath="/mdb:MD_Metadata/mdb:identificationInfo/mri:MD_DataIdentification/mri:citation/cit:CI_Citation/cit:identifier/mcc:MD_Identifier/mcc:codeSpace"/>             
          <field xpath="/mdb:MD_Metadata/mdb:resourceLineage/mrl:LI_Lineage/mrl:scope/mcc:MD_Scope/mcc:level"/>
          <field xpath="/mdb:MD_Metadata/mdb:resourceLineage/mrl:LI_Lineage/mrl:statement"/>
        </section>
        <section name="constraints">
          <field xpath="/mdb:MD_Metadata/mdb:identificationInfo/*/mri:resourceConstraints/mco:MD_LegalConstraints/mco:accessConstraints"/>
          <field xpath="/mdb:MD_Metadata/mdb:identificationInfo/*/mri:resourceConstraints/mco:MD_LegalConstraints/mco:useConstraints"/>
          <field xpath="/mdb:MD_Metadata/mdb:identificationInfo/*/mri:resourceConstraints/mco:MD_LegalConstraints/mco:otherConstraints"/>
        </section>
        <section name="">
          <field name="scale" xpath="/mdb:MD_Metadata/mdb:identificationInfo/*/mri:spatialResolution"/>          
          <field xpath="/mdb:MD_Metadata/mdb:referenceSystemInfo/mrs:MD_ReferenceSystem/mrs:referenceSystemIdentifier"/>
        </section>
        <section name="extent">
        <field xpath="/mdb:MD_Metadata/mdb:identificationInfo/*/mri:extent/gex:EX_Extent/gex:temporalElement/gex:EX_TemporalExtent"/>
        <field xpath="/mdb:MD_Metadata/mdb:identificationInfo/*/mri:extent/gex:EX_Extent/gex:geographicElement/gex:EX_GeographicBoundingBox"/>
        </section>
        </section>
      </tab>

<!--
      <field xpath="/mdb:MD_Metadata/mdb:identificationInfo/mri:MD_DataIdentification/mri:spatialResolution>/mri:MD_Resolution/mri:equivalentScale/mri:MD_RepresentativeFraction/mri:denominator"/>
        
        <section name="">
          <field xpath="/mdb:MD_Metadata/mdb:referenceSystemInfo/mrs:MD_ReferenceSystem/mrs:referenceSystemIdentifier"/>
        </section>

      -->
      <tab id="dataDistribution" mode="flat">
        <section name="distributionmainsection">
          <section name="distributionformat">
          <field name="format" xpath="/mdb:MD_Metadata/mdb:distributionInfo/mrd:MD_Distribution/mrd:distributionFormat/mrd:MD_Format/mrd:formatSpecificationCitation"/>
          <action type="add" name="encoding" or="distributionFormat"
            in="/mdb:MD_Metadata/mdb:distributionInfo/mrd:MD_Distribution">
            <template>
              <snippet>
                <mrd:distributionFormat>
                  <mrd:MD_Format>
                    <mrd:formatSpecificationCitation>
                      <cit:CI_Citation>
                     <cit:title>
                        <gco:CharacterString></gco:CharacterString>
                     </cit:title>
                      </cit:CI_Citation>
                    </mrd:formatSpecificationCitation>
                  </mrd:MD_Format>
                </mrd:distributionFormat>
              </snippet>
            </template>
          </action>
          </section>
          <section name="distributor">
          <field xpath="/mdb:MD_Metadata/mdb:distributionInfo/mrd:MD_Distribution/mrd:distributionFormat/mrd:MD_Format/mrd:formatDistributor/mrd:MD_Distributor/mrd:distributorContact/cit:CI_Responsibility"/>
          </section>
          <section name="distributionorder">
          <field xpath="/mdb:MD_Metadata/mdb:distributionInfo/mrd:MD_Distribution/mrd:distributionFormat/mrd:MD_Format/mrd:formatDistributor/mrd:MD_Distributor/mrd:distributionOrderProcess"/>
          </section>
          <section name="distributiononline">
          <field xpath="/mdb:MD_Metadata/mdb:distributionInfo/mrd:MD_Distribution/mrd:transferOptions/mrd:MD_DigitalTransferOptions/mrd:onLine/cit:CI_OnlineResource"/>
          <action type="add" name="url" or="onLine"
            in="/mdb:MD_Metadata/mdb:distributionInfo/mrd:MD_Distribution/mrd:transferOptions/mrd:MD_DigitalTransferOptions">
            <template>
              <snippet>
                 <mrd:onLine>
                  <cit:CI_OnlineResource>
                     <cit:linkage>
                        <gco:CharacterString/>
                     </cit:linkage>
                     <cit:protocol>
                        <gco:CharacterString/>
                     </cit:protocol>
                     <cit:name>
                        <gco:CharacterString/>
                     </cit:name>
                     <cit:description>
                        <gco:CharacterString/>
                     </cit:description>
                     <cit:function>
                        <cit:CI_OnLineFunctionCode codeList="http://standards.iso.org/ittf/PubliclyAvailableStandards/ISO_19139_Schemas/resources/codelist/ML_gmxCodelists.xml#CI_OnLineFunctionCode"
                                                   codeListValue=""/>
                     </cit:function>
                  </cit:CI_OnlineResource>
               </mrd:onLine>
              </snippet>
            </template>
          </action>
          </section>
          <!--field name="format" xpath="/mdb:MD_Metadata/mdb:distributionInfo/mrd:MD_Distribution/mrd:transferOptions/mrd:MD_DigitalTransferOptions/mrd:onLine/cit:CI_OnlineResource/cit:protocol"/-->
        </section>
      </tab>
      <tab id="contact" mode="flat">
        <section name="distributionmainsection">
                role
                 <field xpath="role"/>
                 <gn:copy select="role"/>
        </section>
      </tab>
      <tab id="inspire" mode="flat">
        <section name="inspiremainsection">
        <section name="keywordsInpire">
          <field xpath="/mdb:MD_Metadata/mdb:identificationInfo/*/mri:descriptiveKeywords[contains(*/mri:thesaurusName/cit:CI_Citation/cit:title/gco:CharacterString,'INSPIRE themes')]"/>
          <!--field xpath="/mdb:MD_Metadata/mdb:identificationInfo/*/mri:descriptiveKeywords[contains(*/mri:thesaurusName/cit:CI_Citation/cit:title/gco:CharacterString,'INSPIRE themes')]/mri:MD_Keywords"/-->
        </section>
        <section name="conformityInpire">
          <field xpath="/mdb:MD_Metadata/mdb:dataQualityInfo/*/mdq:report/*/mdq:result/mdq:DQ_ConformanceResult/mdq:specification/cit:CI_Citation/cit:title" />
        </section>
        </section>
      </tab>




      <tab id="dataDistribution1">
        <section>
          <!--
          + Date de création
          + Date de validité
          -->
          <field xpath="/mdb:MD_Metadata/mdb:identificationInfo/*/
                          mri:citation/*/cit:date[
                            */cit:dateType/*/@codeListValue = 'creation']"/>

          <field name="temporalExtent" templateModeOnly="true"
                 xpath="/mdb:MD_Metadata/mdb:identificationInfo/*/mri:extent/*/gex:temporalElement"
                 if="count(mdb:MD_Metadata/mdb:identificationInfo/*) > 0">
            <template>
              <values>
                <!-- -Need a * for gml:TimePeriodTypeCHOICE_ELEMENT2 added by editor enumerated tree -->
                <key label="beginPosition"
                     xpath="gex:EX_TemporalExtent/gex:extent/gml:TimePeriod/*/gml:beginPosition"
                     use="gn-date-picker"
                     tooltip="gex:extent|gex:EX_TemporalExtent">
                  <directiveAttributes data-tag-name="gml:beginPosition"/>
                </key>
                <key label="endPosition"
                     xpath="gex:EX_TemporalExtent/gex:extent/gml:TimePeriod/*/gml:endPosition"
                     use="gn-date-picker"
                     tooltip="gex:extent|gex:EX_TemporalExtent"
                        >
                  <directiveAttributes
                          data-tag-name="gml:endPosition"
                          data-indeterminate-position="eval#gex:EX_TemporalExtent/gex:extent/gml:TimePeriod/*/gml:endPosition/@indeterminatePosition"/>
                </key>
              </values>
              <snippet>
                <gex:temporalElement>
                  <gex:EX_TemporalExtent>
                    <gex:extent>
                      <gml:TimePeriod gml:id="">
                        {{beginPosition}}
                        {{endPosition}}
                      </gml:TimePeriod>
                    </gex:extent>
                  </gex:EX_TemporalExtent>
                </gex:temporalElement>
              </snippet>
            </template>
          </field>


          <field
                  name="timeResolution"
                  xpath="/mdb:MD_Metadata/mdb:spatialRepresentationInfo/msr:MD_Georectified/
                            msr:axisDimensionProperties/msr:MD_Dimension/msr:resolution"/>
          <field
                  xpath="/mdb:MD_Metadata/mdb:identificationInfo/*/mri:resourceMaintenance/*/mmi:maintenanceAndUpdateFrequency"/>

        </section>
      </tab>
    </view>





    <view name="advanced">
      <tab id="identificationInfo" default="true">
        <section xpath="/mdb:MD_Metadata/mdb:identificationInfo" or="identificationInfo"
                 in="/mdb:MD_Metadata"/>
      </tab>
      <tab id="contentInfo">
        <section xpath="/mdb:MD_Metadata/mdb:contentInfo" or="contentInfo" in="/mdb:MD_Metadata"/>
      </tab>
      <tab id="distributionInfo">
        <section xpath="/mdb:MD_Metadata/mdb:distributionInfo" or="distributionInfo"
                 in="/mdb:MD_Metadata"/>
      </tab>
      <!--
      mdb:distributionInfo/mrd:MD_Distribution/mrd:transferOptions/mrd:MD_DigitalTransferOptions
      -->
      <tab id="dataQualityInfo">
        <section xpath="/mdb:MD_Metadata/mdb:dataQualityInfo" or="dataQualityInfo"
                 in="/mdb:MD_Metadata"/>
      </tab>
      <tab id="resourceLineage">
        <section xpath="/mdb:MD_Metadata/mdb:resourceLineage" or="resourceLineage"
                 in="/mdb:MD_Metadata"/>
      </tab>
      <tab id="spatialRepresentationInfo">
        <section xpath="/mdb:MD_Metadata/mdb:spatialRepresentationInfo"
                 or="spatialRepresentationInfo" in="/mdb:MD_Metadata"/>
      </tab>
      <tab id="referenceSystemInfo">
        <section xpath="/mdb:MD_Metadata/mdb:referenceSystemInfo" or="referenceSystemInfo"
                 in="/mdb:MD_Metadata"/>
      </tab>
      <tab id="acquisitionInformation" toggle="true">
        <section xpath="/mdb:MD_Metadata/mdb:acquisitionInformation" or="acquisitionInformation"
                 in="/mdb:MD_Metadata"/>
      </tab>
      <tab id="metadata">
        <section name="mdb:MD_Metadata">
          <field xpath="/mdb:MD_Metadata/mdb:metadataIdentifier"/>
          <field xpath="/mdb:MD_Metadata/mdb:defaultLocale" or="defaultLocale"
                 in="/mdb:MD_Metadata"/>
          <field xpath="/mdb:MD_Metadata/mdb:otherLocale" or="otherLocale"
                 in="/mdb:MD_Metadata"/>
          <field xpath="/mdb:MD_Metadata/mdb:contact" or="contact"
                 in="/mdb:MD_Metadata"/>
          <field xpath="/mdb:MD_Metadata/mdb:parentMetadata" or="parentMetadata"
                 in="/mdb:MD_Metadata"/>
          <field xpath="/mdb:MD_Metadata/mdb:metadataScope" or="metadataScope"
                 in="/mdb:MD_Metadata"/>
          <field xpath="/mdb:MD_Metadata/mdb:alternativeMetadataReference" or="alternativeMetadataReference"
                 in="/mdb:MD_Metadata"/>
          <field xpath="/mdb:MD_Metadata/mdb:metadataLinkage" or="metadataLinkage"
                 in="/mdb:MD_Metadata"/>
          <field xpath="/mdb:MD_Metadata/mdb:dateInfo" or="dateInfo"
                 in="/mdb:MD_Metadata"/>
          <field xpath="/mdb:MD_Metadata/mdb:metadataStandard"/>
          <field xpath="/mdb:MD_Metadata/mdb:metadataProfile"/>
        </section>
      </tab>
      <tab id="portrayalCatalogueInfo" toggle="true">
        <section xpath="/mdb:MD_Metadata/mdb:portrayalCatalogueInfo" or="portrayalCatalogueInfo"
                 in="/mdb:MD_Metadata"/>
      </tab>
      <tab id="metadataConstraints" toggle="true">
        <section xpath="/mdb:MD_Metadata/mdb:metadataConstraints" or="metadataConstraints"
                 in="/mdb:MD_Metadata"/>
      </tab>
      <tab id="metadataMaintenance" toggle="true">
        <section xpath="/mdb:MD_Metadata/mdb:metadataMaintenance" or="metadataMaintenance"
                 in="/mdb:MD_Metadata"/>
      </tab>
      <tab id="applicationSchemaInfo" toggle="true">
        <section xpath="/mdb:MD_Metadata/mdb:applicationSchemaInfo" or="applicationSchemaInfo"
                 in="/mdb:MD_Metadata"/>
      </tab>
    </view>
    <view name="xml">
      <tab id="xml" default="true"/>
    </view>
  </views>
</editor>
